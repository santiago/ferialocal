{"ts":1352822000522,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var upload = require('../lib/Upload')();\nvar ServiceBase = require('../lib/ServiceBase');\n\nvar Shop = require('../domain/Shop').domain;\nvar ShopStore = require('../domain/Shop').store;\n\nmodule.exports = function(app) {\n    this.name = 'shop';\n    this.resource = '/shops';\n    this.store = ShopStore;\n    \n    this.beforePost = function(req, res, next) {\n        req.body.user_id = 0; // = req.session.auth.userId\n        next();\n    };\n    \n    ServiceBase.call(this, app, null);\n    \n    app.post('/shops/:shop_id/logo_image', upload, function(req, res) {\n        res.send('ok')\n    });\n\n    return this;\n};"]],"start1":0,"start2":0,"length1":0,"length2":609}]],"length":609}
{"contributors":[],"silentsave":false,"ts":1352822007588,"patch":[[{"diffs":[[0,"name = '"],[-1,"shop"],[1,"comment"],[0,"';\n    t"]],"start1":228,"start2":228,"length1":20,"length2":23},{"diffs":[[0,"rce = '/"],[-1,"shop"],[1,"comment"],[0,"s';\n    "]],"start1":260,"start2":260,"length1":20,"length2":23}]],"length":615,"saved":false}
{"ts":1352822019761,"patch":[[{"diffs":[[0,"id ="],[-1," 0; // ="],[0," req"]],"start1":383,"start2":383,"length1":16,"length2":8}]],"length":607,"saved":false}
{"ts":1352822021322,"patch":[[{"diffs":[[0,"h.userId"],[1,";"],[0,"\n       "]],"start1":403,"start2":403,"length1":16,"length2":17}]],"length":608,"saved":false}
{"ts":1352822070535,"patch":[[{"diffs":[[0,"    "],[-1,"\n    this.beforePost = function(req, res, next) {\n        req.body.user_id = req.session.auth.userId;\n        next();\n    };\n"],[0,"    "]],"start1":307,"start2":307,"length1":133,"length2":8}]],"length":483,"saved":false}
{"ts":1352822071624,"patch":[[{"diffs":[[0,"re;\n    "],[-1,"    "],[0,"\n    Ser"]],"start1":303,"start2":303,"length1":20,"length2":16}]],"length":479,"saved":false}
{"ts":1352822076180,"patch":[[{"diffs":[[0,"store = "],[-1,"Shop"],[1,"Comment"],[0,"Store;\n "]],"start1":288,"start2":288,"length1":20,"length2":23}]],"length":482,"saved":false}
{"ts":1352822092320,"patch":[[{"diffs":[[0,"var "],[-1,"Shop = require('../domain/Shop').domain;\nvar Shop"],[1,"Comment"],[0,"Stor"]],"start1":91,"start2":91,"length1":57,"length2":15},{"diffs":[[0,"ain/"],[-1,"Shop"],[1,"Comment"],[0,"').s"]],"start1":125,"start2":125,"length1":12,"length2":15}]],"length":443,"saved":false}
